{"version":3,"file":"js/98.1a0c5964.js","mappings":"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","sources":["webpack://rx/./src/components/OrderItem.vue","webpack://rx/src/components/OrderItem.vue","webpack://rx/./src/components/OrderItem.vue?6596","webpack://rx/./src/components/OrderItem.vue?283f","webpack://rx/./src/views/Pay.vue","webpack://rx/./src/components/OrderList.vue","webpack://rx/src/components/OrderList.vue","webpack://rx/./src/components/OrderList.vue?fd7b","webpack://rx/./src/components/OrderList.vue?f2a0","webpack://rx/src/views/Pay.vue","webpack://rx/./src/views/Pay.vue?3f8c","webpack://rx/./src/views/Pay.vue?5d0b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-item\"},[_c('div',{staticClass:\"cell-item-box\"},[_c('div',{staticClass:\"pro-info-box\"},[_vm._m(0),_c('div',{staticClass:\"pro-info fl\"},[_c('div',{staticClass:\"pro-info-text\"},[_c('div',{staticClass:\"names clearfix\"},[_c('div',{staticClass:\"pro-name fl\"},[_vm._v(_vm._s(_vm.item.name))]),_c('div',{staticClass:\"pro-rule fl\"},[_vm._v(_vm._s(_vm.item.rule))])]),_c('div',{staticClass:\"pro-enname\"},[_vm._v(_vm._s(_vm.item.enname))])]),_c('div',{staticClass:\"pro-count-box clearfix\"},[_c('div',{staticClass:\"pro-price fl\"},[_vm._v(\"￥\"+_vm._s(_vm.item.price))]),_c('div',{staticClass:\"step-box fr\"},[_vm._v(\" x \"+_vm._s(_vm.item.count))])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pro-img fl\"},[_c('img',{staticClass:\"auto_img\",attrs:{\"src\":\"http://www.kangliuyong.com:10002/images/product_large/IMG_0384_02.jpg\",\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"order-item\">\r\n        <div class=\"cell-item-box\">\r\n            <div class=\"pro-info-box\">\r\n                <div class=\"pro-img fl\">\r\n                    <img class=\"auto_img\" src=\"http://www.kangliuyong.com:10002/images/product_large/IMG_0384_02.jpg\"\r\n                        alt=\"\">\r\n\r\n                </div>\r\n                <div class=\"pro-info fl\">\r\n                    <div class=\"pro-info-text\">\r\n                        <div class=\"names clearfix\">\r\n                            <div class=\"pro-name fl\">{{item.name}}</div>\r\n                            <div class=\"pro-rule fl\">{{item.rule}}</div>\r\n                        </div>\r\n                        <div class=\"pro-enname\">{{item.enname}}</div>\r\n                    </div>\r\n                    <div class=\"pro-count-box clearfix\">\r\n                        <div class=\"pro-price fl \">￥{{item.price}}</div>\r\n                        <div class=\"step-box fr\"> x {{item.count}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"OrderItem\",\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            default() {\r\n                return {\r\n                    name:'名称',\r\n                    rule:'规格',\r\n                    enname:'英文名称',\r\n                    price:0,\r\n                    count:1,\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.order-item{\r\n    .pro-info-box{\r\n        height: 80px;\r\n        margin-bottom: 10px;\r\n        .pro-img{\r\n            width: 80px;\r\n            height: 80px;\r\n            background-color: #ddd;\r\n        }\r\n        .pro-info{\r\n            width: calc(~\"100% - 90px\");\r\n            margin-left:10px;\r\n            .pro-info-text{\r\n                height: 50px;\r\n                .names{\r\n                    line-height: 16px;\r\n                }\r\n                .pro-enname{\r\n                    font-size: 12px;\r\n                    color: #999;\r\n                    margin-top: 5px;\r\n                }\r\n                .pro-name{\r\n                    font-size: 14px;\r\n                    margin-right: 15px;\r\n                }\r\n                .pro-rule{\r\n\r\n                    color: #999;\r\n                    font-size: 12px;\r\n                }\r\n            }\r\n            .pro-count-box{\r\n                height: 30px;\r\n                // position: absolute;\r\n                .pro-price{\r\n                    // position: relative;\r\n                    font-size: 14px;\r\n                    color: #00f;\r\n                    font-weight: bold;\r\n                    line-height: 30px;\r\n                    \r\n                }\r\n                .step-box{\r\n                    \r\n                    // position: relative;\r\n                    line-height: 30px;\r\n                    font-size: 12px;\r\n                    margin-left: 80%;\r\n                \r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderItem.vue?vue&type=template&id=3bde32bf&scoped=true&\"\nimport script from \"./OrderItem.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderItem.vue?vue&type=style&index=0&id=3bde32bf&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bde32bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pay\"},[_c('van-nav-bar',{attrs:{\"title\":\"订单结算\",\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"pay-box\"},[_c('div',{staticClass:\"select-address\"},[_c('div',[_c('span',{on:{\"click\":_vm.showSelectAddressList}},[_vm._v(\" 选择地址\")]),_c('van-icon',{staticClass:\"arrow\",attrs:{\"name\":\"arrow\"}})],1),_c('div',{staticClass:\"user-box\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.currentAddress.name))]),_c('div',{staticClass:\"user-phone\"},[_vm._v(_vm._s(_vm.currentAddress.tel))]),(_vm.currentAddress.isDefault)?_c('div',{staticClass:\"default-address\"},[_vm._v(\" 默认 \")]):_vm._e()]),_c('div',{staticClass:\"detail-address\"},[_vm._v(_vm._s(_vm.currentAddress.addressDetail))])])]),_c('div',{staticClass:\"order-info\"},[_c('OrderList',{attrs:{\"info-title-left\":\"订单信息\",\"count\":_vm.productInfo.count,\"total\":_vm.productInfo.total,\"date\":_vm._f(\"formatDate\")(_vm.productInfo.date,'yyyy-MM-dd hh:mm:ss')}},_vm._l((_vm.products),function(item,index){return _c('OrderItem',{key:index,attrs:{\"item\":item}})}),1)],1)]),_c('div',{staticClass:\"btn-box\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"block\":\"\",\"round\":\"\",\"color\":\"#00f\"},on:{\"click\":_vm.payBox}},[_vm._v(\"立即结算\")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\",\"is-link\":\"\",\"closeable\":\"\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('div',{staticClass:\"address-title\"},[_vm._v(\"选择地址\")]),_c('van-address-list',{attrs:{\"default-tag-text\":\"默认\",\"list\":_vm.list},on:{\"add\":_vm.NewAddress,\"select\":_vm.selectAddress}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-list\"},[_c('div',{staticClass:\"pro-box\"},[_c('div',{staticClass:\"info-boxs clearfix\"},[_c('div',{staticClass:\"info-title fl\"},[_vm._v(_vm._s(_vm.infoTitleLeft))]),_vm._m(0)]),_c('div',[_c('div',{staticClass:\"cell-list\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"bottom-info\"},[_vm._m(1),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.date))]),_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"fl\"},[_vm._v(\"共计\"+_vm._s(_vm.count)+\"件\")]),_c('div',{staticClass:\"fr\"},[_vm._v(\"合计 ￥ \"+_vm._s(_vm.total))])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"re-info fl\"},[_c('div',{staticClass:\"clearfix\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"circle clearfix\"},[_c('div',{staticClass:\"circle-box circle-left\"}),_c('div',{staticClass:\"circle-box circle-right\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"order-list\">\r\n        <div class=\"pro-box\">\r\n            <div class=\"info-boxs clearfix\">\r\n                <div class=\"info-title fl\">{{ infoTitleLeft }}</div>\r\n                <div class=\"re-info fl\">\r\n                    <div class=\"clearfix \" >\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"cell-list\">\r\n                    <!-- 商品信息 -->\r\n                    <slot></slot>\r\n                </div>\r\n                <div class=\"bottom-info\">\r\n                    <div class=\"circle clearfix\">\r\n                        <div class=\"circle-box circle-left \"></div>\r\n                        <div class=\"circle-box circle-right \" ></div>\r\n                    </div>\r\n                    <div class=\"date\">{{ date }}</div>\r\n                    <div class=\"clearfix\">\r\n                        <div class=\"fl\">共计{{ count }}件</div>\r\n                        <div class=\"fr\" >合计 ￥ {{ total }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"OrderLists\",\r\n    props: {\r\n        //左边标题\r\n        infoTitleLeft: {\r\n            type: String,\r\n            default: \"订单信息\",\r\n        },\r\n        //是否显示右边信息\r\n        isRight: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n        //时间\r\n        date: {\r\n            type: String,\r\n            default: '1970-01-01 00:00:00',\r\n        },\r\n        //数量\r\n        count: {\r\n            type: Number,\r\n            default: 0,\r\n        },\r\n        //订单总金额\r\n        total: {\r\n            type: [Number, String],\r\n            default: 0,\r\n        },\r\n        \r\n    },\r\n    data() {\r\n        return {};\r\n\r\n    },\r\n    created() { },\r\n    methods: {\r\n        //确认收货\r\n      confirmReceive() {\r\n        this.$emit(\"confirm-receive\");\r\n      },\r\n       \r\n    },\r\n} \r\n</script>\r\n<style lang=\"less\" scoped>\r\n.order-list {\r\n    margin-top: 10px;\r\n\r\n    .pro-box {\r\n        background-color: #fff;\r\n        border-top-left-radius: 8px;\r\n        border-top-right-radius: 8px;\r\n        padding: 10px;\r\n        margin-bottom: 10px;\r\n        // border-bottom: 5px solid #d2d2d2;\r\n        .info-title {\r\n            font-size: 14px;\r\n            height: 30px;\r\n        }\r\n        .cell-list {\r\n            padding-bottom: 20px;\r\n            border-bottom: 1px dashed #ddd;\r\n        }\r\n\r\n        .bottom-info {\r\n            padding-top: 20px;\r\n            font-size: 14px;\r\n            position: relative;\r\n\r\n            .circle {\r\n                position: absolute;\r\n                top: -10px;\r\n                width: 100%;\r\n                height: 20px;\r\n\r\n                .circle-box {\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    background-color: #f7f7f7;\r\n                    border-radius: 50%;\r\n                }\r\n\r\n                .circle-left {\r\n                    position: relative;\r\n                    left: -20px;\r\n                }\r\n\r\n                .circle-right {\r\n                    position: relative;\r\n                  right: -100%;\r\n                  top: -20px;\r\n                }\r\n            }\r\n\r\n            .date {\r\n                margin-bottom: 10px;\r\n                font-size: 12px;\r\n            }\r\n.fr{\r\n    margin-left: 76%;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n        .delete {\r\n            width: 19px;\r\n            height: 19px;\r\n            margin-left: 10px;\r\n\r\n            /deep/.van-icon {\r\n                color: #bbbbbb;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderList.vue?vue&type=template&id=063b74c8&scoped=true&\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderList.vue?vue&type=style&index=0&id=063b74c8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"063b74c8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"pay\">\r\n      <van-nav-bar\r\n        title=\"订单结算\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        fixed\r\n        @click-left=\"onClickLeft\"\r\n      />\r\n      <div class=\"pay-box\">\r\n        <div class=\"select-address\">\r\n          <div>\r\n            <span @click=\"showSelectAddressList\"> 选择地址</span>\r\n            <van-icon class=\"arrow\" name=\"arrow\" />\r\n          </div>\r\n          <div class=\"user-box\">\r\n            <div class=\"user-info\">\r\n              <div class=\"user-name\">{{ currentAddress.name }}</div>\r\n              <div class=\"user-phone\">{{ currentAddress.tel }}</div>\r\n              <div class=\"default-address\" v-if=\"currentAddress.isDefault\">\r\n                默认\r\n              </div>\r\n            </div>\r\n            <div class=\"detail-address\">{{ currentAddress.addressDetail }}</div>\r\n          </div>\r\n        </div>\r\n        <!-- 订单信息 -->\r\n        <div class=\"order-info\">\r\n          <OrderList\r\n            info-title-left=\"订单信息\"\r\n            :count=\"productInfo.count\"\r\n            :total=\"productInfo.total\"\r\n            :date=\"productInfo.date | formatDate('yyyy-MM-dd hh:mm:ss')\"\r\n          >\r\n            <OrderItem\r\n              v-for=\"(item, index) in products\"\r\n              :key=\"index\"\r\n              :item=\"item\"\r\n            ></OrderItem>\r\n          </OrderList>\r\n        </div>\r\n      </div>\r\n      <!-- 结算按钮 -->\r\n      <div class=\"btn-box\">\r\n        <van-button type=\"primary\" block round color=\"#00f\" @click=\"payBox\"\r\n          >立即结算</van-button\r\n        >\r\n      </div>\r\n      <van-popup position=\"bottom\" is-link closeable v-model=\"isOpen\">\r\n        <div class=\"address-title\">选择地址</div>\r\n        <van-address-list\r\n          default-tag-text=\"默认\"\r\n          @add=\"NewAddress\"\r\n          :list=\"list\"\r\n          @select=\"selectAddress\"\r\n        />\r\n      </van-popup>\r\n    </div>\r\n  </template>\r\n  <script>\r\n  import OrderList from \"../components/OrderList.vue\";\r\n  import OrderItem from \"../components/OrderItem.vue\";\r\n  \r\n  export default {\r\n    name: \"Pay\",\r\n    components: {\r\n      OrderItem,\r\n      OrderList,\r\n    },\r\n    data() {\r\n      return {\r\n        isOpen: false,\r\n        //购物袋sid\r\n        sids: [],\r\n        products: [],\r\n        productInfo: {\r\n          count: 0,\r\n          total: 0,\r\n        },\r\n        chosenAddressId: \"\",\r\n        list: [],\r\n        currentAddress: {},\r\n      };\r\n    },\r\n    created() {\r\n      //截取查询参数\r\n      this.sids = this.$route.query.sids.split(\"-\");\r\n      this.getShopbagBySids();\r\n      this.getAddressData();\r\n    },\r\n    methods: {\r\n      //展示选择的地址列表\r\n      showSelectAddressList() {\r\n        this.isOpen = true;\r\n      },\r\n      //选择地址\r\n      selectAddress(item, index) {\r\n        this.isOpen = false;\r\n        this.currentAddress = item;\r\n        console.log(item);\r\n      },\r\n      onClickLeft() {\r\n        //返回上一级\r\n        this.$router.back(-1);\r\n      },\r\n      getShopbagBySids() {\r\n        //验证token\r\n        let tokenString = localStorage.getItem(\"__tk\");\r\n        if (!tokenString) {\r\n          //跳回登录页面\r\n          this.$toast(\"请先登录\");\r\n          return this.$router.push({ name: \"Login\" });\r\n        }\r\n        //发起请求\r\n        this.axios({\r\n          methods: \"GET\",\r\n          url: \"/commitShopcart\",\r\n          params: {\r\n            appkey: this.appkey,\r\n            tokenString,\r\n            sids: JSON.stringify(this.sids),\r\n          },\r\n        }).then((result) => {\r\n          console.log(result);\r\n          if (result.data.code == 700) {\r\n            //token检验无效，跳转到登录页面\r\n            this.$router.push({ name: \"Login\" });\r\n          } else if (result.data.code == 50000) {\r\n            //如果没有商品可购买，则跳转到首页页面\r\n            if (result.data.result.length == 0) {\r\n              return this.$router.push({ name: \"Home\" });\r\n            }\r\n            result.data.result.map((v) => {\r\n              this.productInfo.count += v.count;\r\n              this.productInfo.total += v.count * v.price;\r\n              this.productInfo.date = v.updated_at;\r\n            });\r\n            this.products = result.data.result;\r\n          } else {\r\n            this.$toast(result.data.mag);\r\n          }\r\n        });\r\n      },\r\n      //获取地址列表\r\n      getAddressData() {\r\n        //验证token\r\n        let tokenString = localStorage.getItem(\"__tk\");\r\n        if (!tokenString) {\r\n          //跳回登录页面\r\n          this.$toast(\"请先登录\");\r\n          return this.$router.push({ name: \"Login\" });\r\n        }\r\n        this.axios({\r\n          methods: \"GET\",\r\n          url: \"/findAddress\",\r\n          params: {\r\n            appkey: this.appkey,\r\n            tokenString,\r\n          },\r\n        }).then((result) => {\r\n          console.log(result);\r\n          if (result.data.code == 700) {\r\n            //token检验无效，跳转到登录页面\r\n            this.$router.push({ name: \"Login\" });\r\n          } else if (result.data.code == 20000) {\r\n            result.data.result.map((v) => {\r\n              v.isDefault == Boolean(v.isDefault);\r\n              v.id == v.aid;\r\n              v.address = `${v.province}${v.city}${v.county}${v.addressDetail}`;\r\n              if (v.isDefault) {\r\n                this.chosenAddressId = v.aid;\r\n                this.currentAddress = v;\r\n              }\r\n            });\r\n            this.list = result.data.result;\r\n          }\r\n        });\r\n      },\r\n      //新增地址\r\n      NewAddress() {\r\n        this.$router.push({ name: \"NewAddress\" });\r\n      },\r\n      pay() {\r\n        //验证token\r\n        let tokenString = localStorage.getItem(\"__tk\");\r\n        if (!tokenString) {\r\n          //跳回登录页面\r\n          this.$toast(\"请先登录\");\r\n          return this.$router.push({ name: \"Login\" });\r\n        }\r\n  \r\n        this.axios({\r\n          method: \"POST\",\r\n          url: \"/pay\",\r\n          data: {\r\n            appkey: this.appkey,\r\n            tokenString,\r\n            sids: JSON.stringify(this.sids),\r\n            phone: this.currentAddress.tel,\r\n            address: this.currentAddress.address,\r\n            receiver: this.currentAddress.name,\r\n          },\r\n        }).then((result) => {\r\n          console.log(result);\r\n          if (result.data.code == 700) {\r\n            //token检验无效，跳转到登录页面\r\n            this.$router.push({ name: \"Login\" });\r\n          } else {\r\n            this.$toast(result.data.msg);\r\n            setTimeout(() => {\r\n              this.$router.push({name:\"Order\"})\r\n            });\r\n          }\r\n        });\r\n      },\r\n      payBox() {\r\n        //判断是否填写收到地址\r\n        if (!this.chosenAddressId) {\r\n          this.$toast(\"请选择地址\");\r\n          return;\r\n        }\r\n        this.$dialog.confirm({\r\n            title: \"确认订单\",\r\n            message: \"是否立即结算?\",\r\n          }).then(() => {\r\n            this.pay();\r\n          });\r\n      },\r\n  \r\n    },\r\n  };\r\n  </script>\r\n  <style lang=\"less\" scoped>\r\n  .pay {\r\n    padding-top: 46px;\r\n\r\n    .pay-box {\r\n        padding: 10px;\r\n\r\n        .select-address {\r\n            background-color: #fff;\r\n            padding: 10px;\r\n            border-top-left-radius: 8px;\r\n            border-top-right-radius: 8px;\r\n            font-size: 14px;\r\n\r\n            .user-box {\r\n                margin-top: 20px;\r\n\r\n                .user-info {\r\n                    display: flex;\r\n                    line-height: 19px;\r\n\r\n                    .user-name {\r\n                        margin: right 20px;\r\n                        font-weight: bold;\r\n                        margin-right: 20px;\r\n                    }\r\n\r\n                    .defanlt-address {\r\n                        font-size: 12px;\r\n                        background-color: #00f;\r\n                        color: #fff;\r\n                        width: 40px;\r\n                        height: 20px;\r\n                        text-align: center;\r\n                        line-height: 21px;\r\n                        border-radius: 10px;\r\n                        margin-left: 20px;\r\n                    }\r\n                }\r\n\r\n                .detail-address {\r\n                    margin-top: 10px;\r\n                    color: #999;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    .address-title {\r\n        padding-top: 20px;\r\n        padding-left: 20px;\r\n    }\r\n\r\n    .btn-box {\r\n        position: fixed;\r\n        left: 0;\r\n        bottom: 0;\r\n        padding: 10px;\r\n        width: calc(~\"100% - 20px\");\r\n    }\r\n\r\n    /deep/.van-address-list__bottom {\r\n        background-color: #ffffff00;\r\n        margin-bottom: 10px;\r\n    }\r\n}\r\n  </style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pay.vue?vue&type=template&id=5c54eb2c&scoped=true&\"\nimport script from \"./Pay.vue?vue&type=script&lang=js&\"\nexport * from \"./Pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pay.vue?vue&type=style&index=0&id=5c54eb2c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c54eb2c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","_s","item","name","rule","enname","price","count","staticRenderFns","attrs","props","type","default","component","on","onClickLeft","showSelectAddressList","currentAddress","tel","isDefault","_e","addressDetail","productInfo","total","_f","date","_l","products","index","key","payBox","model","value","isOpen","callback","$$v","expression","list","NewAddress","selectAddress","infoTitleLeft","_t","isRight","data","created","methods","confirmReceive","components","OrderItem","OrderList","sids","chosenAddressId","console","getShopbagBySids","url","params","appkey","tokenString","then","result","getAddressData","v","pay","method","phone","address","receiver","setTimeout","title","message"],"sourceRoot":""}